<template>
  <require from="./../../converters/currency-format"></require>

  <div style="display: flex;">
    <div class="tabs" style="margin-bottom: 0;">
      <ul style="display: flex;">
        <li class="${currentPlanning.key == plan.key ? 'is-active' : ''}" repeat.for="plan of plannings" click.delegate="selectPlanning(plan)" long-click.delegate="editPlanning(plan)"><a>${plan.name}</a></li>
      </ul>
    </div>
    <div click.delegate="addPlanning()"class="svg-container">
      <svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Add Circle</title><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' fill='none' stroke='grey' stroke-miterlimit='10' stroke-width='32'/><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M256 176v160M336 256H176'/></svg>
    </div>
  </div>


  <section class="section" style="padding-top: 1.5em">

    

    <div class="title-button-row">
      <h5 class="title is-5" >
        <span t="bill-title"></span> 
        <span if.bind="bills.length > 0">(${bills.length})</span>
      </h5>
      <button if.bind="bills.length > 0" click.delegate="submit()" class="button is-primary" t="add-bill"></button>
    </div>

    <div class="columns">
      <div repeat.for="bill of bills" class="column">
        <div click.delegate="edit(bill)" long-click.delegate="openDeletePrompt(bill)" class="card card-clickable-${bill.color}">
              <div style="display: flex; justify-content: space-between;">
                <p class="card-header-title">
                  ${bill.name}
                </p>
                <p style="padding: 0.75rem 1rem;" class="has-text-${bill.color}">
                  ${bill.payPeriod}
                </p>
              </div>
              <h2 class="subtitle is-2 text-center">${bill.totalCost | currencyFormat} </h2>
                <p class="card-footer-title">${formatFromTomDateString(bill.startDate, bill.endDate)}</p>
        </div>
      </div>
      <div class="no-item-help"if.bind="bills.length === 0">
        <h4 class="subtitle  is-4 text-center" t="nothing-here"></h4>
       
          <svg id="svg" viewbox="0 0 120 120">
            <g id="face" transform='translate(60 60)'>
              <circle
                id="facecircle"
                cx="0"
                cy="0"
                r="50"
                stroke="#222"
                stroke-width="2"
                fill="#FFF0B3" />
              <circle
                cx="-20"
                cy="-10"
                r="5"
                fill="#222" />
              <circle
                cx="20"
                cy="-10"
                r="5"
                fill="#222" />
          
              <g id="smile" transform="translate(0, 25)">
                <path
                  id="smilepath"
                  fill="none"
                  stroke="#222"
                  stroke-width="3"
                  stroke-linecap="round"
                  d="M-20,-10 C-20,10 20,10 20,-10" />
              </g>
            </g>
          </svg>
          
          <h5 class="subtitle  is-5 text-center" t="start-add-bill"></h5>

          <button click.delegate="submit()" class="button is-primary is-large is-fullwidth" style="margin-top:2em" t="add-bill-now"></button>
      </div>
    </div>



  </section>
</template>